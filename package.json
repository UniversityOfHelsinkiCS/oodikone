{
  "name": "oodikone",
  "version": "1.0.0",
  "description": "Simple CLI tool for setting up the development environment for Oodikone. The entire development environment runs inside of a Docker network that's defined in the dco.yml file. The specifics of what this means for setting up the environment and accessing logs is discussed in a later section.",
  "main": "./scripts/run.sh",
  "scripts": {
    "cli": "./oodikone.sh",
    "cypress": "cypress",
    "cypress:open": "cypress open --config baseUrl=http://localhost:8081/",
    "cypress:run": "CYPRESS_baseUrl=http://frontend:8081/ npm run docker:cypress",
    "cypress:run:smoke": "CYPRESS_baseUrl=http://frontend:8081/ npm run docker:cypress -- --env smokify=0.6",
    "cypress:ci": "CYPRESS_baseUrl=http://nginx/ npm run docker:ci:cypress",
    "concurrently": "concurrently",
    "services": "./scripts/exec_command_for_services.sh",
    "lint": "./scripts/exec_parallel_npm_in_services.sh -c lint",
    "lintfix": "npm run services -- -c lintfix",
    "test_services": "npm run services -- -e -c test",
    "test": "./scripts/test.sh",
    "test:smoke": "./scripts/test.sh -s",
    "docker:updater:base": "docker-compose -f ./dco.data.yml -f ./updater/dco.updater.yml",
    "docker:updater:dev": "npm run docker:updater:base -- -f ./docker/dco.data.dev.yml -f ./updater/docker/dco.dev.yml",
    "docker:updater:real": "npm run docker:updater:dev -- -f ./docker/dco.data.dev.real.yml -f ./updater/docker/dco.dev.real.yml",
    "docker:oodikone:base": "docker-compose -f ./dco.data.yml -f ./services/dco.oodikone.yml",
    "docker:oodikone:dev": "npm run docker:oodikone:base -- -f ./docker/dco.data.dev.yml -f ./services/docker/dco.dev.yml",
    "docker:oodikone:real": "npm run docker:oodikone:dev -- -f ./docker/dco.data.dev.real.yml -f ./services/docker/dco.dev.real.yml",
    "docker:both:base": "docker-compose -f ./dco.data.yml -f ./updater/dco.updater.yml -f ./services/dco.oodikone.yml",
    "docker:both:dev": "npm run docker:both:base -- -f ./docker/dco.data.dev.yml -f ./updater/docker/dco.dev.yml -f ./services/docker/dco.dev.yml",
    "docker:both:real": "npm run docker:both:dev -- -f ./docker/dco.data.dev.real.yml  -f ./updater/docker/dco.dev.real.yml -f ./services/docker/dco.dev.real.yml",
    "docker:cypress": "npm run docker:oodikone:dev -- -f ./docker/dco.cypress.yml run --rm cypress",
    "docker:ci": "npm run docker:both:base -- -f ./docker/dco.data.ci.yml -f ./services/docker/dco.ci.yml -f ./updater/docker/dco.ci.yml",
    "docker:ci:cypress": "npm run docker:ci -- -f ./docker/dco.cypress.yml run --rm cypress",
    "docker:build": "npm run docker:oodikone:dev -- build",
    "docker:mac:up": "npm run docker:oodikone:dev -- up -d backend && npm run docker:up",
    "docker:mac:up:real": "npm run docker:oodikone:real -- up -d backend && npm run docker:up:real",
    "docker:up": "npm run docker:oodikone:dev -- up -d",
    "docker:up:real": "npm run docker:oodikone:real -- up -d",
    "docker:down": "npm run docker:oodikone:dev -- down",
    "docker:logs": "npm run docker:oodikone:dev -- logs -f",
    "docker:logs:backend": "npm run docker:oodikone:dev -- logs -f backend",
    "docker:restart": "npm run docker:oodikone:dev -- restart",
    "docker:restart:backend": "npm run docker:oodikone:dev -- restart backend",
    "docker:obliterate": "docker stop $(docker ps -aq) ; docker rmi -f $(docker images -a -q) ; docker system prune -a",
    "start": "npm run docker:up && npm run docker:logs",
    "start:real": "npm run docker:oodikone:real -- up -d && npm run docker:oodikone:real -- logs -f",
    "start:updater": "npm run docker:up -- --scale sis-updater-worker=4 sis-updater-scheduler sis-updater-worker db_sis sis-updater-nats db adminer redis && npm run docker:logs -- --tail=\"1000\"",
    "updater:dev:up": "npm run docker:updater:real -- up",
    "updater:dev:down": "npm run docker:updater:real -- down --remove-orphans",
    "diff:students": "docker exec backend node /usr/src/app/src/sisoodi_diff/students/index.js",
    "diff:populations": "docker exec backend node /usr/src/app/src/sisoodi_diff/populations.js",
    "diff:courses": "docker exec backend node /usr/src/app/src/sisoodi_diff/courses/index.js",
    "diff:transfers": "docker exec backend node /usr/src/app/src/sisoodi_diff/transfers.js"
  },
  "husky": {
    "hooks": {
      "pre-commit": "scripts/grep_only.sh",
      "pre-push": "npm run lint"
    }
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/UniversityOfHelsinkiCS/oodikone.git"
  },
  "author": "",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/UniversityOfHelsinkiCS/oodikone/issues"
  },
  "homepage": "https://github.com/UniversityOfHelsinkiCS/oodikone#readme",
  "devDependencies": {
    "concurrently": "^6.0.2",
    "cypress": "^7.2.0",
    "cypress-smokify": "0.0.3",
    "husky": "^6.0.0"
  },
  "dependencies": {}
}
